<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>


<meta name="description" content="University of Colorado Denver, Fall 2021">
<meta property="og:description" content="University of Colorado Denver, Fall 2021" />

<meta name="author" content="Data: A User Manual" />


<meta property="og:title" content="Pandas III Practice" />
<meta property="twitter:title" content="Pandas III Practice" />



    <title>Pandas III Practice – Data: A User Manual – University of Colorado Denver, Fall 2021</title>

    <link rel="stylesheet" type="text/css" href="/f21-data/style.css"/>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/ress/dist/ress.min.css"/>
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/image/favicon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/image/favicon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/image/favicon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/image/favicon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/image/favicon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/image/favicon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/image/favicon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/image/favicon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/image/favicon-180x180.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/image/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/image/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/image/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/image/favicon-192x192.png">
    <link rel="shortcut icon" type="image/x-icon" href="/assets/image/favicon.ico">
    <link rel="icon" type="image/x-icon" href="/f21-data/assets/image/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/image/favicon-144x144.png">
    <meta name="msapplication-config" content="/assets/image/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="alternate" type="application/rss+xml" title="Data: A User Manual - University of Colorado Denver, Fall 2021" href="/f21-data/feed.xml"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css" integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.4/plyr.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">

  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/f21-data/" class="site-avatar"><img src="/f21-data/assets/image/cu-logo.png"/></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/f21-data/">Data: A User Manual</a></h1>
            <p class="site-description">University of Colorado Denver, Fall 2021</p>
          </div>

          <nav class="nav-menu">
            
  <a class="nav-menu-item"<a href="/f21-data/schedule">Schedule</a>

  <a class="nav-menu-item"<a href="/f21-data/assignments">Assignments</a>

  <a class="nav-menu-item"<a href="/f21-data/policies">Policies</a>


          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="page">

  <h1>Pandas III Practice</h1>

  <div class="entry">
    <p>First create a new directory within your class folder <code class="language-plaintext highlighter-rouge">data-a-user-manual</code> called <code class="language-plaintext highlighter-rouge">pandas-3</code>. Launch Jupyter Labs and create a new Jupyter Notebook in that folder with the filename: <code class="language-plaintext highlighter-rouge">pandas-3.ipynb</code>.</p>

<p>We’re going to continue working with the dataset: <a href="https://www.icpsr.umich.edu/web/ICPSR/studies/8879">Census of Utah Territory, 1880</a>. I’ve modified the dataset to make it more usable in Python. Download <a href="/f21-data/in-class/utah-census-1880.csv">this CSV file</a> and make sure it is in your <code class="language-plaintext highlighter-rouge">pandas-3</code> folder.</p>

<p>To replicate best coding practices, you’re going to use alternating Markdown and Code cells in your Jupyter Notebook. Copy and paste each of the following steps into a new Markdown cell that documents in your own words what you’re doing in the following code cell. Then insert a new code cell and write your Python code that completes the task for that step.</p>

<ol>
  <li>Import the pandas library</li>
  <li>Read in the contents of the CSV of Utah census data and assign it to a variable <code class="language-plaintext highlighter-rouge">utah_df</code> (ie. Utah dataframe)</li>
  <li>Show a random sample of 10 rows from the dataframe</li>
  <li>Look at the column <code class="language-plaintext highlighter-rouge">birthstate</code> and some of the values from your random sample. Change the name of the column to something more accurate.</li>
  <li>Replace the <code class="language-plaintext highlighter-rouge">NaN</code> values in the <code class="language-plaintext highlighter-rouge">occupation</code> column with the string: <code class="language-plaintext highlighter-rouge">Unknown</code>.</li>
  <li>Just isolate people who work on a farm in some capacity. Create a filter and subset the data using <code class="language-plaintext highlighter-rouge">str.contains</code> to return rows whose <code class="language-plaintext highlighter-rouge">occupation</code> contains <code class="language-plaintext highlighter-rouge">FARM</code>. How many people work on a farm?</li>
  <li>The three most common categories for <code class="language-plaintext highlighter-rouge">marrystatus</code> have been shortened to single letters. Write three lines of code that each uses <code class="language-plaintext highlighter-rouge">str.replace</code> on the <code class="language-plaintext highlighter-rouge">marrystatus</code> column to replace:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">m</code> with <code class="language-plaintext highlighter-rouge">married</code></li>
      <li><code class="language-plaintext highlighter-rouge">s</code> with <code class="language-plaintext highlighter-rouge">single</code></li>
      <li><code class="language-plaintext highlighter-rouge">w</code> with <code class="language-plaintext highlighter-rouge">widowed</code></li>
    </ul>
  </li>
  <li>Define a function called <code class="language-plaintext highlighter-rouge">birthyear_calc</code> to calculate the year an individual was born based on their <code class="language-plaintext highlighter-rouge">age</code> column and the year the census was recorded (<code class="language-plaintext highlighter-rouge">1880</code>) - note: this won’t be perfect.</li>
  <li>Add a new column called <code class="language-plaintext highlighter-rouge">birthyear</code> that is populated with the same values as the <code class="language-plaintext highlighter-rouge">age</code> column. These are placeholder values that we are about to change.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">apply</code> and your function <code class="language-plaintext highlighter-rouge">birthyear_calc</code> on the <code class="language-plaintext highlighter-rouge">birthyear</code> column to calculate new values for each person’s birth year.</li>
  <li>Use the following code to change the <code class="language-plaintext highlighter-rouge">birthyear</code> column to an Integer data type rather than a Float (decimal): <code class="language-plaintext highlighter-rouge">utah_df['birthyear']=utah_df['birthyear'].astype('int64')</code></li>
  <li>Use <code class="language-plaintext highlighter-rouge">groupby</code> to count the number of people living in Utah in 1880 who were born each year leading up to 1880. Assign this to a new variable <code class="language-plaintext highlighter-rouge">birthsbyyear</code>.</li>
  <li>Plot a time series graph of <code class="language-plaintext highlighter-rouge">birthsbyyear</code> to chart how many people were born each year.</li>
  <li>What explains the weird spikes in the graph?</li>
</ol>

  </div>
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer"><div class="copyright">
            
            <p><a href="https://cameronblevins.org">Cameron Blevins</a>, University of Colorado Denver (Fall 2021)<br />Jekyll theme <a href="https://github.com/forever-jekyll">Forever Jekyll</a></p>

            
          </div>
        </footer>
      </div>
    </div>

    <script src="https://cdn.plyr.io/3.6.4/plyr.polyfilled.js"></script>
    <script>
      const player = new Plyr('#player');
    </script>
    <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>
    <script type="text/javascript">
      const lightbox = GLightbox({
          touchNavigation: true,
          loop: true,
          autoplayVideos: true
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>

    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js" integrity="sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"
            onload="renderMathInElement(document.body,{
                    delimiters: [
                    { left: '$$',  right: '$$',  display: true  },
                    { left: '$',   right: '$',   display: false },
                    { left: '\\[', right: '\\]', display: true  },
                    { left: '\\(', right: '\\)', display: false }
                    ]});">
    </script>

  </body>
</html>
